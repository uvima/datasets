<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Datasets - Reducción Dimensionalidad - Análisis Factorial: pisa_factorial</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Datasets</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Notebooks</li><li class="breadcrumb-item">Reduccion Dimension</li><li class="breadcrumb-item">Analisis Factorial</li><li class="breadcrumb-item"><a href="../../../../notebooks/Reduccion Dimension/Analisis Factorial/pisa_factorial/Dataset_cleaning.html">Pisa Factorial</a></li><li class="breadcrumb-item"><a href="../../../../notebooks/Reduccion Dimension/Analisis Factorial/pisa_factorial/pisa_factorial.html">Reducción Dimensionalidad - Análisis Factorial: pisa_factorial</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../../../../index.html" class="sidebar-logo-link">
      <img src="../../../../img/LogoINE.svg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Notebooks</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
 <span class="menu-text">Analisis Discriminante</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
 <span class="menu-text">Lineal Y Cuadratico</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
 <span class="menu-text">Laboral</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Analisis Discriminante/Lineal_y_Cuadratico/laboral/Dataset_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Variables de Interés</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Analisis Discriminante/Lineal_y_Cuadratico/laboral/laboral.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Análisis Discriminante: laboral</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
 <span class="menu-text">Salud</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Analisis Discriminante/Lineal_y_Cuadratico/salud/Dataset_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Variables de Interés</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Analisis Discriminante/Lineal_y_Cuadratico/salud/salud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Análisis Discriminante: salud</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
 <span class="menu-text">Cluster Jerarquico</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
 <span class="menu-text">Desigualdad Ccaa</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Cluster Jerarquico/desigualdad_ccaa/desigualdad_ccaa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cluster Jerárquico: desigualdad_CCAA</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
 <span class="menu-text">Ecv Cluster</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Cluster Jerarquico/ecv_cluster/ecv_cluster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cluster Jerárquico: ecv_cluster</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false">
 <span class="menu-text">VarCovid</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Cluster Jerarquico/VarCovid/VarCovid.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cluster Jerárquico: VarCovid</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false">
 <span class="menu-text">VarCovid Provincias</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Cluster Jerarquico/VarCovid_provincias/VarCovid_provincias.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cluster Jerárquico: VarCovid_provincias</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false">
 <span class="menu-text">Cluster K-Means</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false">
 <span class="menu-text">Desigualdad Ccaa</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Cluster K-Means/desigualdad_ccaa/desigualdad_ccaa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cluster K-Means: desigualdad_CCAA</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="false">
 <span class="menu-text">Ecv Cluster</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Cluster K-Means/ecv_cluster/ecv_cluster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cluster K-Means: ecv_cluster</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="false">
 <span class="menu-text">VarCovid</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Cluster K-Means/VarCovid/VarCovid.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cluster K-Means: VarCovid</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" aria-expanded="false">
 <span class="menu-text">Linear Regression</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" aria-expanded="false">
 <span class="menu-text">IMCV</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Linear Regression/IMCV/IMCV.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regresión Lineal: IMCV_reg</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" aria-expanded="false">
 <span class="menu-text">Salud Reg</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-17" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Linear Regression/salud_reg/Dataset_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Variables de Interés</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Linear Regression/salud_reg/salud_reg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regresión Lineal: salud_reg</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" aria-expanded="false">
 <span class="menu-text">Suicidios 2019CCAA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-18" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Linear Regression/Suicidios_2019CCAA/Suicidios_2019.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regresión Lineal: Sucidios</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" aria-expanded="false">
 <span class="menu-text">Logistic Regression</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-19" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-19" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" aria-expanded="false">
 <span class="menu-text">ECV</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-20" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-20" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Logistic Regression/ECV/Dataset_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">¿Cómo determinamos si una persona ha mejorado o no su situación económica?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Logistic Regression/ECV/ECV.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regresión Logística: ECV_microdatos</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" aria-expanded="false">
 <span class="menu-text">Laboral</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-21" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-21" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Logistic Regression/laboral/Dataset_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Variables de Interés</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Logistic Regression/laboral/laboral.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regresión Logística: laboral</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" aria-expanded="false">
 <span class="menu-text">Partos</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-22" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-22" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Logistic Regression/Partos/Dataset_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Variables de Interés</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Logistic Regression/Partos/Partos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regresión Logística: Partos</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" aria-expanded="false">
 <span class="menu-text">Salud</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-23" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-23" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Logistic Regression/salud/Dataset_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Variables de Interés</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Logistic Regression/salud/salud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regresión Logística: salud</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" aria-expanded="true">
 <span class="menu-text">Reduccion Dimension</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-24" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-24" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" aria-expanded="true">
 <span class="menu-text">Analisis Factorial</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-25" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-25" class="collapse list-unstyled sidebar-section depth3 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" aria-expanded="false">
 <span class="menu-text">ECV Factorial</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-26" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-26" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Reduccion Dimension/Analisis Factorial/ECV_factorial/Dataset_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Procesamos el dataset para adaptarlo a lo de arriba</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Reduccion Dimension/Analisis Factorial/ECV_factorial/ECV_factorial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reducción Dimensionalidad - Análisis Factorial: ECV_factorial</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" aria-expanded="true">
 <span class="menu-text">Pisa Factorial</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-27" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-27" class="collapse list-unstyled sidebar-section depth4 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Reduccion Dimension/Analisis Factorial/pisa_factorial/Dataset_cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Procesamos el dataset para adaptarlo a lo de arriba</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Reduccion Dimension/Analisis Factorial/pisa_factorial/pisa_factorial.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Reducción Dimensionalidad - Análisis Factorial: pisa_factorial</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" aria-expanded="false">
 <span class="menu-text">PCA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-28" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-28" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" aria-expanded="false">
 <span class="menu-text">IMCV Pca</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-29" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-29" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Reduccion Dimension/PCA/IMCV_pca/IMCV_pca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reducción Dimensionalidad - PCA: IMCV_pca</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" aria-expanded="false">
 <span class="menu-text">MercadoHipotecas</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-30" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-30" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Reduccion Dimension/PCA/MercadoHipotecas/MercadoHipotecas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reducción Dimensionalidad - PCA: MercadoHipotecas</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" aria-expanded="false">
 <span class="menu-text">Provincias Variado</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-31" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-31" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Reduccion Dimension/PCA/provincias_variado/provincias_variado.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reducción Dimensionalidad - PCA: provincias_variado</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" aria-expanded="false">
 <span class="menu-text">Situacion Sanitaria</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-32" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-32" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Reduccion Dimension/PCA/Situacion_sanitaria/Situacion_sanitaria.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reducción Dimensionalidad - PCA: Situacion_sanitaria</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" aria-expanded="false">
 <span class="menu-text">Series Temporales</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-33" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-33" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" aria-expanded="false">
 <span class="menu-text">ARIMA</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-34" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-34" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" aria-expanded="false">
 <span class="menu-text">Ipc Series</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-35" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-35" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Series Temporales/ARIMA/ipc_series/ipc_series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Series Temporales - ARIMA: ipc_series</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" aria-expanded="false">
 <span class="menu-text">Madrid</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-36" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-36" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Series Temporales/ARIMA/Madrid/madrid_series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Series Temporales - ARIMA: madrid_series</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" aria-expanded="false">
 <span class="menu-text">Navarra</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-37" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-37" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Series Temporales/ARIMA/Navarra/navarra_series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Series Temporales - ARIMA: navarra</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" aria-expanded="false">
 <span class="menu-text">Holt Winters</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-38" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-38" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-39" aria-expanded="false">
 <span class="menu-text">Ipc Series</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-39" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-39" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Series Temporales/Holt Winters/ipc_series/ipc_series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Series Temporales - Holt Winters: ipc_series</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-40" aria-expanded="false">
 <span class="menu-text">Madrid</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-40" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-40" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../notebooks/Series Temporales/Holt Winters/Madrid/Madrid.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Series Temporales - Holt Winters: madrid_series</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introducción" id="toc-introducción" class="nav-link active" data-scroll-target="#introducción">Introducción</a>
  <ul class="collapse">
  <li><a href="#dataset" id="toc-dataset" class="nav-link" data-scroll-target="#dataset">dataset</a></li>
  <li><a href="#descripción-del-trabajo-a-realizar" id="toc-descripción-del-trabajo-a-realizar" class="nav-link" data-scroll-target="#descripción-del-trabajo-a-realizar">Descripción del trabajo a realizar</a></li>
  </ul></li>
  <li><a href="#análisis-exploratorio-eda" id="toc-análisis-exploratorio-eda" class="nav-link" data-scroll-target="#análisis-exploratorio-eda">Análisis Exploratorio (EDA)</a>
  <ul class="collapse">
  <li><a href="#cargar-librerías" id="toc-cargar-librerías" class="nav-link" data-scroll-target="#cargar-librerías">Cargar Librerías</a></li>
  <li><a href="#lectura-datos" id="toc-lectura-datos" class="nav-link" data-scroll-target="#lectura-datos">Lectura datos</a></li>
  </ul></li>
  <li><a href="#análisis-factorial-exploratorio-efa" id="toc-análisis-factorial-exploratorio-efa" class="nav-link" data-scroll-target="#análisis-factorial-exploratorio-efa">Análisis Factorial Exploratorio (EFA)</a>
  <ul class="collapse">
  <li><a href="#introducción-1" id="toc-introducción-1" class="nav-link" data-scroll-target="#introducción-1">Introducción</a></li>
  <li><a href="#paso-1-estimación-de-la-matriz-de-correlaciones." id="toc-paso-1-estimación-de-la-matriz-de-correlaciones." class="nav-link" data-scroll-target="#paso-1-estimación-de-la-matriz-de-correlaciones.">Paso 1: Estimación de la matriz de correlaciones.</a></li>
  <li><a href="#paso-2-verificar-que-la-matriz-sea-factorizable-es-decir-que-tiene-sentido-hacer-un-afe-con-nuestros-datos" id="toc-paso-2-verificar-que-la-matriz-sea-factorizable-es-decir-que-tiene-sentido-hacer-un-afe-con-nuestros-datos" class="nav-link" data-scroll-target="#paso-2-verificar-que-la-matriz-sea-factorizable-es-decir-que-tiene-sentido-hacer-un-afe-con-nuestros-datos">Paso 2: Verificar que la matriz sea factorizable (es decir, que tiene sentido hacer un AFE con nuestros datos):</a></li>
  <li><a href="#paso-3-determinar-un-método-de-extracción-de-factores" id="toc-paso-3-determinar-un-método-de-extracción-de-factores" class="nav-link" data-scroll-target="#paso-3-determinar-un-método-de-extracción-de-factores">Paso 3: Determinar un método de extracción de factores:</a></li>
  <li><a href="#paso-4-determinamos-el-número-de-factores-a-extraer" id="toc-paso-4-determinamos-el-número-de-factores-a-extraer" class="nav-link" data-scroll-target="#paso-4-determinamos-el-número-de-factores-a-extraer">Paso 4: Determinamos el número de factores a extraer:</a></li>
  <li><a href="#paso-5-extracción-de-factores-rotación" id="toc-paso-5-extracción-de-factores-rotación" class="nav-link" data-scroll-target="#paso-5-extracción-de-factores-rotación">Paso 5: Extracción de factores + rotación:</a></li>
  <li><a href="#resultados-afe" id="toc-resultados-afe" class="nav-link" data-scroll-target="#resultados-afe">Resultados AFE:</a></li>
  </ul></li>
  <li><a href="#análisis-factorial-confirmatorio-cfa" id="toc-análisis-factorial-confirmatorio-cfa" class="nav-link" data-scroll-target="#análisis-factorial-confirmatorio-cfa">Análisis Factorial Confirmatorio (CFA):</a>
  <ul class="collapse">
  <li><a href="#paso-1-determinar-un-método-de-extracción-de-factores" id="toc-paso-1-determinar-un-método-de-extracción-de-factores" class="nav-link" data-scroll-target="#paso-1-determinar-un-método-de-extracción-de-factores">Paso 1: determinar un método de extracción de factores:</a></li>
  <li><a href="#paso-2-probar-una-o-varias-estructuras-factoriales" id="toc-paso-2-probar-una-o-varias-estructuras-factoriales" class="nav-link" data-scroll-target="#paso-2-probar-una-o-varias-estructuras-factoriales">Paso 2: Probar una o varias estructuras factoriales:</a></li>
  <li><a href="#modelo-con-tres-factores-teóricos" id="toc-modelo-con-tres-factores-teóricos" class="nav-link" data-scroll-target="#modelo-con-tres-factores-teóricos">Modelo con tres factores teóricos:</a></li>
  <li><a href="#modelo-con-un-solo-factor" id="toc-modelo-con-un-solo-factor" class="nav-link" data-scroll-target="#modelo-con-un-solo-factor">Modelo con un solo factor:</a></li>
  <li><a href="#modelo-con-dos-factores" id="toc-modelo-con-dos-factores" class="nav-link" data-scroll-target="#modelo-con-dos-factores">Modelo con dos factores:</a></li>
  <li><a href="#resultados-cfa" id="toc-resultados-cfa" class="nav-link" data-scroll-target="#resultados-cfa">Resultados CFA:</a></li>
  </ul></li>
  <li><a href="#interpretamos-los-factores-obtenidos-tanto-con-el-efa-como-con-el-cfa" id="toc-interpretamos-los-factores-obtenidos-tanto-con-el-efa-como-con-el-cfa" class="nav-link" data-scroll-target="#interpretamos-los-factores-obtenidos-tanto-con-el-efa-como-con-el-cfa">Interpretamos los factores obtenidos tanto con el EFA como con el CFA:</a></li>
  <li><a href="#conclusión" id="toc-conclusión" class="nav-link" data-scroll-target="#conclusión">Conclusión</a></li>
  <li><a href="#bibliografía" id="toc-bibliografía" class="nav-link" data-scroll-target="#bibliografía">Bibliografía</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Notebooks</li><li class="breadcrumb-item">Reduccion Dimension</li><li class="breadcrumb-item">Analisis Factorial</li><li class="breadcrumb-item"><a href="../../../../notebooks/Reduccion Dimension/Analisis Factorial/pisa_factorial/Dataset_cleaning.html">Pisa Factorial</a></li><li class="breadcrumb-item"><a href="../../../../notebooks/Reduccion Dimension/Analisis Factorial/pisa_factorial/pisa_factorial.html">Reducción Dimensionalidad - Análisis Factorial: pisa_factorial</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Reducción Dimensionalidad - Análisis Factorial: pisa_factorial</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introducción" class="level1">
<h1>Introducción</h1>
<p>A continuación se expondrá como llevar a cabo una Reducción de Dimensionalidad utilizando un Análisis Factorial. Para ello se utilizará un dataset sobre el que se irán explicando los sucesivos pasos a llevar a cabo.</p>
<section id="dataset" class="level2">
<h2 class="anchored" data-anchor-id="dataset">dataset</h2>
<p>En este cuaderno vamos a analizar el dataset llamado <a href="../../../../files/pisa_factorial.xlsx"><em>pisa_factorial.xlsx</em></a>. Este dataset presenta un conjunto de datos relativos a la la prueba PISA del año 2018. El objetivo es realizar un Análisis Factorial a partir de los microdatos.</p>
<p>Concretamente en este dataset tenemos las siguientes variables (La escala de respuesta para estas son 1 - Totalmente en desacuerdo, 2 - En desacuerdo, 3 - De acuerdo y 4 - Totalmente de acuerdo):</p>
<ol type="1">
<li><strong>¿Hasta qué punto estás de acuerdo con las siguientes afirmaciones sobre ti mismo?</strong></li>
</ol>
<ul>
<li>ST181Q02HA: Disfruto trabajando en situaciones que requieren competir con los demás.</li>
<li>ST181Q03HA: Es importante para mí hacerlo mejor que los demás al realizar una tarea.</li>
<li>ST181Q04HA: Me esfuerzo mucho cuando estoy compitiendo contra los demás.</li>
</ul>
<ol start="2" type="1">
<li><strong>¿Hasta qué punto estás de acuerdo con las siguientes afirmaciones sobre ti mismo?</strong></li>
</ol>
<ul>
<li>ST182Q03HA: Me siento satisfecho cuando me esfuerzo todo lo que puedo.</li>
<li>ST182Q04HA: Cuando inicio una tarea continúo hasta terminarla.</li>
<li>ST182Q05HA: Cuando hago algo, parte de mi satisfacción se debe a que he mejorado mis resultados anteriores.</li>
<li>ST182Q06HA: Si algo no se me da bien, prefiero seguir esforzándome para mejorar, en lugar de hacer otra cosa que sí se me da bien.</li>
</ul>
<ol start="3" type="1">
<li><strong>¿Hasta qué punto estás de acuerdo con las siguientes afirmaciones?</strong></li>
</ol>
<ul>
<li>ST183Q01HA: Cuando me he equivocado, me preocupa lo que otras personas piesen de mí.</li>
<li>ST183Q02HA: Cuando me he equivocado, me preocupa no tener el talento suficiente.</li>
<li>ST183Q03HA: Cuando me he equivocado, dudo sobre mis planes para el futuro.</li>
</ul>
</section>
<section id="descripción-del-trabajo-a-realizar" class="level2">
<h2 class="anchored" data-anchor-id="descripción-del-trabajo-a-realizar">Descripción del trabajo a realizar</h2>
<p>Se pretende hacer un Análisis de Reducción de la Dimensionalidad empleando el procedimiento de Análisis Factorial.</p>
<ul>
<li><p>Hacer un análisis exploratorio.</p></li>
<li><p>Dividir datos en dos partes</p></li>
<li><p>Análisis Factorial Exploratorio (EFA)</p>
<ul>
<li>Estimación matriz correlaciones.</li>
<li>Verificar que la matriz sea factorizable.</li>
<li>Método de extracción de factores.</li>
<li>Número de factores a extraer.</li>
<li>Extracción factores + rotación.</li>
</ul></li>
<li><p>Análisis Factorial Confirmatorio (CFA)</p>
<ul>
<li>Método de extracción de factores.</li>
<li>Probar una o varias estructuras factoriales.</li>
</ul></li>
</ul>
</section>
</section>
<section id="análisis-exploratorio-eda" class="level1">
<h1>Análisis Exploratorio (EDA)</h1>
<p>EDA viene del Inglés <em>Exploratory Data Analysis</em> y son los pasos relativos en los que se exploran las variables para tener una idea de que forma toma el dataset.</p>
<section id="cargar-librerías" class="level2">
<h2 class="anchored" data-anchor-id="cargar-librerías">Cargar Librerías</h2>
<p>Lo primero de todo vamos a cargar las librerías necesarias para ejecutar el resto del código del trabajo:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Librerias</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl) <span class="co"># Para leer los excels</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co"># Para tratamiento de dataframes</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret) <span class="co"># train/test data</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych) <span class="co"># test mardia /kmo</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggcorrplot)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GPArotation) <span class="co"># Para poder rotar los factores</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lavaan) <span class="co"># cfa</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(semPlot) <span class="co"># diagrama cfa</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lectura-datos" class="level2">
<h2 class="anchored" data-anchor-id="lectura-datos">Lectura datos</h2>
<p>Ahora cargamos los datos del excel correspondientes a la pestaña <em>“Datos”</em> y vemos si hay algún NA o algún valor igual a 0 en nuestro dataset. Vemos que no han ningún NA (missing value) en el dataset luego no será necesario realizar ninguna técnica para imputar los missing values o borrar observaciones.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"../../../../files/pisa_factorial.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Datos"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>En primer lugar, cargamos los datos que vamos a utilizar. En este caso, se trata de un conjunto de datos compuesto por 35943 filas y 11 columnas. Las filas corresponden a individuos concertos y las 11 columnas a variables mencionadas previamente.</p>
<p>Antes de comenzar a aplicar la técnica, comprobamos si hay valores perdidos, por si fuera necesario realizar algún preproceso. En este caso, y como vemos a continuación vemos que si hay valores NA, y por ello los imputaremos con el algoritmo que usemos después.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(datos))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 20958</code></pre>
</div>
</div>
<p>Por otra parte, para tener una noción general que nos permita describir el conjunto con el que vamos a trabajar, podemos extraer su dimensión, el tipo de variables que contiene o qué valores toma cada una.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tipo de variables que contiene</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [35,943 × 11] (S3: tbl_df/tbl/data.frame)
 $ CNTSTUID  : num [1:35943] 72400490 72401482 72402362 72402959 72403316 ...
 $ ST181Q02HA: num [1:35943] 3 3 4 4 3 3 3 3 4 4 ...
 $ ST181Q03HA: num [1:35943] 3 2 2 2 1 2 3 4 2 2 ...
 $ ST181Q04HA: num [1:35943] 3 3 3 4 2 3 4 3 3 3 ...
 $ ST182Q03HA: num [1:35943] 3 4 4 3 4 4 4 4 4 3 ...
 $ ST182Q04HA: num [1:35943] 3 4 4 3 3 3 3 3 3 2 ...
 $ ST182Q05HA: num [1:35943] 3 4 4 2 3 3 4 4 4 3 ...
 $ ST182Q06HA: num [1:35943] 3 3 3 3 3 3 4 3 3 3 ...
 $ ST183Q01HA: num [1:35943] 2 2 3 4 3 2 3 3 2 3 ...
 $ ST183Q02HA: num [1:35943] 2 2 3 3 2 3 4 2 2 3 ...
 $ ST183Q03HA: num [1:35943] 3 2 3 4 2 2 3 1 2 2 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Descripción de las variables</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    CNTSTUID          ST181Q02HA      ST181Q03HA      ST181Q04HA   
 Min.   :72400001   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:72411570   1st Qu.:2.000   1st Qu.:2.000   1st Qu.:3.000  
 Median :72423133   Median :3.000   Median :3.000   Median :3.000  
 Mean   :72423133   Mean   :2.792   Mean   :2.607   Mean   :2.999  
 3rd Qu.:72434686   3rd Qu.:3.000   3rd Qu.:3.000   3rd Qu.:4.000  
 Max.   :72446162   Max.   :4.000   Max.   :4.000   Max.   :4.000  
                    NA's   :1835    NA's   :1884    NA's   :1961   
   ST182Q03HA      ST182Q04HA     ST182Q05HA      ST182Q06HA      ST183Q01HA   
 Min.   :1.000   Min.   :1.00   Min.   :1.000   Min.   :1.000   Min.   :1.000  
 1st Qu.:3.000   1st Qu.:3.00   1st Qu.:3.000   1st Qu.:2.000   1st Qu.:2.000  
 Median :4.000   Median :3.00   Median :3.000   Median :3.000   Median :3.000  
 Mean   :3.468   Mean   :2.97   Mean   :3.275   Mean   :2.908   Mean   :2.517  
 3rd Qu.:4.000   3rd Qu.:3.00   3rd Qu.:4.000   3rd Qu.:3.000   3rd Qu.:3.000  
 Max.   :4.000   Max.   :4.00   Max.   :4.000   Max.   :4.000   Max.   :4.000  
 NA's   :2033    NA's   :2123   NA's   :2208    NA's   :2247    NA's   :2148   
   ST183Q02HA      ST183Q03HA  
 Min.   :1.000   Min.   :1.00  
 1st Qu.:2.000   1st Qu.:2.00  
 Median :3.000   Median :2.00  
 Mean   :2.523   Mean   :2.43  
 3rd Qu.:3.000   3rd Qu.:3.00  
 Max.   :4.000   Max.   :4.00  
 NA's   :2205    NA's   :2314  </code></pre>
</div>
</div>
<p>Como vamos a hacer un doble Análisis Factorial - Exploratorio y Confirmatorio - vamos a <strong>dividir la muestra en aproximadamente el 50%</strong>, realizando el Exploratorio sobre una mitad, y el Confirmatorio sobre la otra, para ver si los resultados concuerdan.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraer columnas de identificador del alumno y  de los items que(miden la competitividad, la perseverancia y el miedo al fracaso):</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>subconjunto <span class="ot">&lt;-</span> datos[, <span class="fu">c</span>(<span class="st">"CNTSTUID"</span>, <span class="st">"ST181Q02HA"</span>, <span class="st">"ST181Q03HA"</span>, <span class="st">"ST181Q04HA"</span>, <span class="st">"ST182Q03HA"</span>, <span class="st">"ST182Q04HA"</span>, <span class="st">"ST182Q05HA"</span>, <span class="st">"ST182Q06HA"</span>, <span class="st">"ST183Q01HA"</span>, <span class="st">"ST183Q02HA"</span>, <span class="st">"ST183Q03HA"</span>)]</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Seed para garantizar la reproducibilidad</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2021</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Partición de datos</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>subconjunto.ids <span class="ot">&lt;-</span> <span class="fu">createDataPartition</span>(subconjunto<span class="sc">$</span>CNTSTUID, <span class="at">p =</span> <span class="fl">0.5</span>, <span class="at">list =</span> F)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Para el Exploratorio solo conservamos las observaciones cuyos IDs han sido muestreados</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>datos_AFE <span class="ot">&lt;-</span> subconjunto[subconjunto.ids, ]</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(datos_AFE) <span class="co"># 17972 observaciones</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 17972    11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Para el Confirmatorio solo conservamos las observaciones cuyos IDs no han sido muestreados</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>datos_AFC <span class="ot">&lt;-</span> subconjunto[<span class="sc">-</span>subconjunto.ids, ]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(datos_AFC) <span class="co"># 17971 observaciones</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 17971    11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Eliminamos IDs, ya que no hacen falta:</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>datos_AFE<span class="sc">$</span>CNTSTUID <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>datos_AFC<span class="sc">$</span>CNTSTUID <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="análisis-factorial-exploratorio-efa" class="level1">
<h1>Análisis Factorial Exploratorio (EFA)</h1>
<section id="introducción-1" class="level2">
<h2 class="anchored" data-anchor-id="introducción-1">Introducción</h2>
<p>El objetivo de la <strong>Reducción de la dimensionalidad</strong> es reducir la complejidad de conjuntos de datos con múltiples variables. Su objetivo es transformar variables correlacionadas en un conjunto menor de dimensiones sin perder la mayor parte de la información original.</p>
<p>El <strong>Análisis Factorial Exploratorio (Exploratory Factorial Analysis)</strong> es un método para reducir la dimensionalidad de un conjunto de variables/indicadores, es decir, es un método para resumir la información. En este sentido, puede confundirse con el Análisis de Componentes Principales (PCA).</p>
<p>El <strong>PCA</strong> parte de la varianza total para encontrar combinaciones lineales entre las variables originales que expliquen la mayor parte de dicha varianza total. Así, el primer componente principal sería aquella combinación lineal de variables que explica un mayor porcentaje de varianza total; el segundo componente principal sería aquel que explica la mayor proporción de varianza no explicada por el primero, y así sucesivamente. Al aplicar PCA a un conjunto de datos conseguimos pues resumir la información en unas pocas componentes principales. Dichas componentes principales, al ser combinaciones lineales de variables, resultan, muchas veces, difíciles de interpretar.</p>
<p>Por su parte, el <strong>EFA</strong> distingue entre varianza común y varianza específica. La <strong>varianza común</strong> o compartida es aquella parte de la variabilidad total de los datos que está compartida entre las variables; mientras, la varianza no compartida es la específica de cada variable. Los factores comunes son, por tanto, variables subyacentes - no observadas - que explican la asociación entre las variables.</p>
<p>Asimismo, desde el punto de vista de las variables, decimos que la <strong>comunalidad</strong> de una variable es la parte de su varianza explicada por los factores comunes. Por ello, interesa que este dato sea alto. Por el contrario, la <strong>especificidad</strong> es la parte de variabilidad de una variable específica de dicha variable. Esta última conviene pues que sea baja.</p>
<p>Los factores sí suelen tener una interpretación más sencilla que los componentes principales. Asimismo, mientras los componentes principales, por definición, no están correlacionados, los factores pueden estarlo.</p>
<p>El EFA suele utilizarse con datos procendentes de encuestas sociales, psicológicas o sanitarias, sin embargo, también puede aplicarse a otros tipos de datos. En nuestro caso tenemos datos procedentes de una encuesta de carácter sociodemográfico.</p>
<p>Los pasos generales son:</p>
</section>
<section id="paso-1-estimación-de-la-matriz-de-correlaciones." class="level2">
<h2 class="anchored" data-anchor-id="paso-1-estimación-de-la-matriz-de-correlaciones.">Paso 1: Estimación de la matriz de correlaciones.</h2>
<p>Dependiendo del tipo de datos que tengamos, debemos utilizar un tipo de correlación u otro:</p>
<ul>
<li><p><strong>Datos continuos</strong>: La matriz de correlaciones de Pearson y la de Spearman son las más apropiadas ante continuos o ante datos ordinales (categóricos) con más de 7 categorías de respuesta (tienden a la continuidad).</p></li>
<li><p><strong>Datos categóricos/ordinales</strong>: la matriz de correlaciones policórica es la más recomendada ante datos ordinales de 7 o menos categorías de respuesta. Si tuviéramos datos dicotómicos, la matriz a emplear sería la matriz tetracórica (similar a la policórica pero con datos dicotómicos).</p></li>
</ul>
<p>En nuestro caso, como tenemos datos ordinales con 11 opciones de respuesta (del 0 al 10), usaremos la matriz de correlaciones de Pearson.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>matriz_correlaciones <span class="ot">&lt;-</span> <span class="fu">cor</span>(datos_AFE, <span class="at">method =</span> <span class="st">"pearson"</span>, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggcorrplot</span>(matriz_correlaciones, <span class="at">lab =</span> T, <span class="at">type =</span> <span class="st">"lower"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pisa_factorial_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Vemos que las correlaciones son más altas entre los ítems que conforman cada uno de los subgrupos teóricos.</p>
</section>
<section id="paso-2-verificar-que-la-matriz-sea-factorizable-es-decir-que-tiene-sentido-hacer-un-afe-con-nuestros-datos" class="level2">
<h2 class="anchored" data-anchor-id="paso-2-verificar-que-la-matriz-sea-factorizable-es-decir-que-tiene-sentido-hacer-un-afe-con-nuestros-datos">Paso 2: Verificar que la matriz sea factorizable (es decir, que tiene sentido hacer un AFE con nuestros datos):</h2>
<p>Si la matriz no fuese factorizable, la relación entre las variables sería tan baja que no se formarían factores.</p>
<p>Entre los métodos para comprobar si la matriz es factorizable destacan:</p>
<ul>
<li><p><strong>Test de esfericidad de Bartlett</strong>: se pregunta si la matriz de correlaciones es o no la matriz identidad. Si la matriz de correlaciones es la matriz identidad, las variables no estarían correlacionadas y no habría varianza compartida de la que extraer los factores (no habría factores comunes). Si rechazamos la hipótesis nula (la matriz de correlaciones es la matriz identidad), la matriz será factorizable.</p></li>
<li><p><strong>Medida KMO (Kaiser-Meyer-Olkin)</strong>: expresa el grado de predicción de las variables a partir de las demás. Su valor oscila entre 0 y 1. Cuanto mayor sea, mejor. Valores a partir de 0,5 se consideran aceptables.</p></li>
<li><p><strong>Calcular el determinante de la matriz de correlaciones</strong>: valores cercanos a cero indican que la matriz es factorizable.</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test de esfericidad de Bartlett:</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>p_esf <span class="ot">&lt;-</span> <span class="fu">cortest.bartlett</span>(matriz_correlaciones, <span class="at">n =</span> <span class="fu">nrow</span>(datos_AFE))</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"El p-valor del test de esfericidad de Bartlett es: "</span>, p_esf<span class="sc">$</span>p.value, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>El p-valor del test de esfericidad de Bartlett es:  0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># KMO:</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">KMO</span>(matriz_correlaciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Kaiser-Meyer-Olkin factor adequacy
Call: KMO(r = matriz_correlaciones)
Overall MSA =  0.73
MSA for each item = 
ST181Q02HA ST181Q03HA ST181Q04HA ST182Q03HA ST182Q04HA ST182Q05HA ST182Q06HA 
      0.74       0.76       0.72       0.76       0.77       0.77       0.79 
ST183Q01HA ST183Q02HA ST183Q03HA 
      0.74       0.62       0.65 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Determinante de la matriz:</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"El valor del determinante de la matriz es: "</span>, <span class="fu">det</span>(matriz_correlaciones))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>El valor del determinante de la matriz es:  0.07879726</code></pre>
</div>
</div>
<p>1 . El p-valor es menor a los niveles de significación habituales(10%, 5% y 1%) por lo que rechazamos la hipótesis nula: la matriz de correlaciones no es la matriz identidad.</p>
<ol start="2" type="1">
<li>El resultado del KMO es bueno: 0,73.</li>
<li>El determinante tiene un valor bastante bajo.</li>
</ol>
<p>Los test muestran que la matriz es factorizable.</p>
</section>
<section id="paso-3-determinar-un-método-de-extracción-de-factores" class="level2">
<h2 class="anchored" data-anchor-id="paso-3-determinar-un-método-de-extracción-de-factores">Paso 3: Determinar un método de extracción de factores:</h2>
<p>La ecuación del modelo factorial es la siguiente:</p>
<p><span class="math display">\[X_j = a_{j1}F_1 + a_{j2}F_2+ ... +a_{j n}F_n + u_j\]</span></p>
<p>Donde <span class="math inline">\(X_j\)</span> (variable j) es una combinación lineal de factores comunes y del factor único (especificidad). Los <span class="math inline">\(a_{jh}\)</span> son los pesos factoriales, que representan la importancia que cada factor común tiene en explicar la variable <span class="math inline">\(X_j\)</span>.</p>
<p>El objetivo de los métodos de extracción de factores es reproducir, con el mínimo error, la matriz de correlaciones a partir de la matriz de pesos factoriales.</p>
<p>Existen varios métodos de extracción de factores. Los más comunes son:</p>
<ul>
<li><p><strong>Máxima Verosimilitud</strong> (Maximum Likelihood, ML). Para utilizarlo, nuestros datos deben seguir una normal multivariante (lo que podemos comprobar realizando el test de Mardia, por ejemplo). Estadísticamente es el más adecuado, pues es asintóticamente insesgado, eficiente y consistente.</p></li>
<li><p><strong>Mínimos Cuadrados No Ponderados</strong> (Unweighted Least Squares, ULS) (También llamado Residuos Mínimos, MinRes). No requiere de la existencia de normalidad multivariante.</p></li>
<li><p><strong>Ejes principales</strong>. Tampoco requiere de datos que sigan una normal multivariante.</p></li>
<li><p><strong>Componentes principales.</strong> Como hemos dicho en la introducción, no es método de análisis factorial propiamente dicho, ya que su objetivo es intentar explicar toda la varianza, y no solo la varianza común o compartida. Sin embargo, su uso, aunque no se recomiende, está bastante extendido, pues es la opción por defecto de muchos programas estadísticos.</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test de Mardia:</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mardia</span>(datos_AFE, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pisa_factorial_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Call: mardia(x = datos_AFE, na.rm = TRUE)

Mardia tests of multivariate skew and kurtosis
Use describe(x) the to get univariate tests
n.obs = 16232   num.vars =  10 
b1p =  3.92   skew =  10595.01  with probability  &lt;=  0
 small sample skew =  10597.33  with probability &lt;=  0
b2p =  140.16   kurtosis =  82.89  with probability &lt;=  0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ks.test</span>(datos_AFE, pnorm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Asymptotic one-sample Kolmogorov-Smirnov test

data:  datos_AFE
D = 0.88912, p-value &lt; 2.2e-16
alternative hypothesis: two-sided</code></pre>
</div>
</div>
<p>Como los p-valores son inferiores a los niveles de significación habituales (10%, 5% y 1%) se rechaza la hipótesis nula, es decir, se rechaza la normalidad de los datos.</p>
<p>También podemos comprobar este hecho haciendo uso del Q-Q plot, ya que la línea de puntos está bastante alejada de la recta que refleja la normal.</p>
<p>Como no existe normalidad, debemos emplear un método de extracción de factores robusto, como es ULS (Mínimos Cuadrados No Ponderados).</p>
</section>
<section id="paso-4-determinamos-el-número-de-factores-a-extraer" class="level2">
<h2 class="anchored" data-anchor-id="paso-4-determinamos-el-número-de-factores-a-extraer">Paso 4: Determinamos el número de factores a extraer:</h2>
<p>Existen cuatro métodos principales:</p>
<ul>
<li><strong>Regla de Kaiser</strong>: se deben aceptar todos aquellos factores con un autovalor mayor a 1.</li>
<li><strong>Gráfico de sedimentación</strong> (scree plot): gráfico donde podemos ver cómo disminuye la varianza explicada o el autovalor a medida que vamos aumentando el número de factores a extraer. Se complementa muy bien con la regla de Kaiser.</li>
<li><strong>Establecimiento de un porcentaje de varianza explicada mínimo (por ejemplo, el 75%)</strong>: cogeríamos todos los factores necesarios para explicar ese porcentaje mínimo de varianza.</li>
<li><strong>Análisis paralelo (AP, método recomendado)</strong>: el AP parte de generar nuevas muestras aleatorias (mínimo 100) con el mismo número de variables y observaciones que la muestra original y, a partir de ello, se queda con aquellos factores cuyo autovalor es superior a los generados por azar.</li>
</ul>
<p>Emplearemos el Análisis Paralelo al ser el método más recomendado.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráfico de sedimentación con la regla de Kaiser marcada:</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">scree</span>(matriz_correlaciones)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pisa_factorial_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Análisis paralelo:</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fa.parallel</span>(matriz_correlaciones, <span class="at">n.obs =</span> <span class="fu">nrow</span>(datos_AFE), <span class="at">n.iter =</span> <span class="dv">500</span>, <span class="at">fa =</span> <span class="st">"fa"</span>, <span class="at">fm =</span> <span class="st">"uls"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pisa_factorial_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Parallel analysis suggests that the number of factors =  3  and the number of components =  NA </code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># uls lleva a cabo un método de minimal residuals</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co"># fa = "fa" show the eigen values for  a principal axis factor analysis</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>El Análisis Paralelo sugiere la extracción de tres factores, la regla de Kaiser, de 3, y el gráfico de sedimentación podríamos decir que de 3 ó 4.</p>
<p>Haremos caso al Análisis Paralelo, por ser la técnica más recomendada actualmente.</p>
</section>
<section id="paso-5-extracción-de-factores-rotación" class="level2">
<h2 class="anchored" data-anchor-id="paso-5-extracción-de-factores-rotación">Paso 5: Extracción de factores + rotación:</h2>
<p>Vamos a extraer tres factores, siguiendo lo recomendado por el Análisis Paralelo.</p>
<p>Asimismo, debemos decidir si vamos a rotar los factores y qué tipo de rotación vamos a emplear. Los métodos de rotación facilitan la interpretación de los factores, ya que sin rotarlos, suele ser muy difíciles de interpretar, por lo que se recomienda el uso de dichas técnicas de rotación.</p>
<p>Existen dos tipos de rotación:</p>
<ul>
<li><strong>Rotación oblicua</strong>: permite que los factores puedan tener correlación entre ellos. Tipo recomendado, ya que es el más cercano a la estructura real que deseamos explorar. Un ejemplo es el método oblimin.</li>
<li><strong>Rotación ortogonal</strong>: fuerza a los factores a que no puedan tener correlación entre ellos. Un ejemplo es el método varimax.</li>
</ul>
<p>Probaremos los dos y nos quedaremos con la solución que mejor resultado arroje. Pero, ¿cómo determinamos qué solución factorial ajusta mejor?</p>
<ul>
<li><strong>Fijándonos en los pesos factoriales</strong>: Cuanto mayor sea el peso factorial de un ítem en un factor mejor. Se aceptan pesos factoriales por encima de 0,4. En general, una buena solución presentará variables que pesan mucho en un factor y poco en el resto.</li>
<li><strong>Índices de bondad del ajuste</strong>. Existen unos cuantos, pero nos podemos fijar en RMSEA, SRMR, TLI y CFI. RMSEA y SRMR cuantos más bajos mejor (se aceptan valores por debajo de 0,08), y TLI y CFI cuantos más altos mejor (valores por encima de 0,95 se consideran muy buenos).</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rotación oblicua oblimin:</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>AFE_oblimin <span class="ot">&lt;-</span> <span class="fu">fa</span>(matriz_correlaciones, <span class="at">nfactors =</span> <span class="dv">4</span>, <span class="at">n.obs =</span> <span class="fu">nrow</span>(datos_AFE), <span class="at">rotate =</span> <span class="st">"oblimin"</span>, <span class="at">fm =</span> <span class="st">"uls"</span>, <span class="at">alpha =</span> <span class="fl">0.05</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>AFE_oblimin</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  uls
Call: fa(r = matriz_correlaciones, nfactors = 4, n.obs = nrow(datos_AFE), 
    rotate = "oblimin", fm = "uls", alpha = 0.05)
Standardized loadings (pattern matrix) based upon correlation matrix
            ULS3  ULS2  ULS1  ULS4   h2     u2 com
ST181Q02HA  0.72 -0.07 -0.04  0.04 0.51 0.4940 1.0
ST181Q03HA  0.68  0.08  0.04 -0.06 0.47 0.5275 1.0
ST181Q04HA  0.79  0.00  0.02  0.01 0.64 0.3636 1.0
ST182Q03HA  0.00  0.00  0.01  0.99 1.00 0.0048 1.0
ST182Q04HA  0.00 -0.01  0.68  0.01 0.48 0.5224 1.0
ST182Q05HA  0.05  0.06  0.51  0.19 0.44 0.5609 1.3
ST182Q06HA  0.00 -0.03  0.67 -0.06 0.41 0.5948 1.0
ST183Q01HA  0.07  0.56 -0.07  0.10 0.34 0.6615 1.1
ST183Q02HA  0.00  0.90  0.02 -0.01 0.81 0.1859 1.0
ST183Q03HA -0.03  0.69 -0.03 -0.02 0.47 0.5324 1.0

                      ULS3 ULS2 ULS1 ULS4
SS loadings           1.62 1.62 1.23 1.08
Proportion Var        0.16 0.16 0.12 0.11
Cumulative Var        0.16 0.32 0.45 0.56
Proportion Explained  0.29 0.29 0.22 0.19
Cumulative Proportion 0.29 0.58 0.81 1.00

 With factor correlations of 
     ULS3 ULS2 ULS1 ULS4
ULS3 1.00 0.12 0.30 0.23
ULS2 0.12 1.00 0.02 0.04
ULS1 0.30 0.02 1.00 0.54
ULS4 0.23 0.04 0.54 1.00

Mean item complexity =  1.1
Test of the hypothesis that 4 factors are sufficient.

df null model =  45  with the objective function =  2.54 with Chi Square =  45651.51
df of  the model are 11  and the objective function was  0 

The root mean square of the residuals (RMSR) is  0 
The df corrected root mean square of the residuals is  0.01 

The harmonic n.obs is  17972 with the empirical chi square  29.63  with prob &lt;  0.0018 
The total n.obs was  17972  with Likelihood Chi Square =  57.84  with prob &lt;  2.3e-08 

Tucker Lewis Index of factoring reliability =  0.996
RMSEA index =  0.015  and the 95 % confidence intervals are  0.011 0.02
BIC =  -49.93
Fit based upon off diagonal values = 1
Measures of factor score adequacy             
                                                  ULS3 ULS2 ULS1 ULS4
Correlation of (regression) scores with factors   0.89 0.92 0.85 1.00
Multiple R square of scores with factors          0.79 0.85 0.72 1.00
Minimum correlation of possible factor scores     0.58 0.71 0.45 0.99</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fa.diagram</span>(AFE_oblimin)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pisa_factorial_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>Vemos que los items que más pesan en el factor 1 son los correspondientes a la variable Perseverancia - los que comienzan por ST182.</p></li>
<li><p>Los items que más pesan en el factor 2 son los correspondientes a la variable Miedo al fracaso - los que comienzan por ST183.</p></li>
<li><p>Los ítems que más pesan en el factor 3 son los correspondientes a la variable Competitividad - los que comienzan por ST181.</p></li>
<li><p>Los índices de bondad del ajuste son muy buenos: RMSEA y RMSR inferiores a 0,08 y TLI mayor a 0,95</p></li>
<li><p>En el gráfico vemos que los factores 1 y 3 (perseverancia y competitividad) están ligeramente correlacionados.</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rotación ortogonal varimax:</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>AFE_varimax <span class="ot">&lt;-</span> <span class="fu">fa</span>(matriz_correlaciones, <span class="at">nfactors =</span> <span class="dv">4</span>, <span class="at">n.obs =</span> <span class="fu">nrow</span>(datos_AFE), <span class="at">rotate =</span> <span class="st">"varimax"</span>, <span class="at">fm =</span> <span class="st">"uls"</span>, <span class="at">alpha =</span> <span class="fl">0.05</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>AFE_varimax</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Factor Analysis using method =  uls
Call: fa(r = matriz_correlaciones, nfactors = 4, n.obs = nrow(datos_AFE), 
    rotate = "varimax", fm = "uls", alpha = 0.05)
Standardized loadings (pattern matrix) based upon correlation matrix
            ULS2 ULS3  ULS1  ULS4   h2     u2 com
ST181Q02HA -0.01 0.70  0.08  0.08 0.51 0.4940 1.1
ST181Q03HA  0.12 0.67  0.12 -0.01 0.47 0.5275 1.1
ST181Q04HA  0.06 0.78  0.14  0.06 0.64 0.3636 1.1
ST182Q03HA  0.04 0.10  0.41  0.90 1.00 0.0048 1.4
ST182Q04HA -0.01 0.10  0.68  0.11 0.48 0.5224 1.1
ST182Q05HA  0.06 0.15  0.59  0.25 0.44 0.5609 1.5
ST182Q06HA -0.04 0.09  0.63  0.04 0.41 0.5948 1.1
ST183Q01HA  0.57 0.09 -0.01  0.08 0.34 0.6615 1.1
ST183Q02HA  0.90 0.04  0.04 -0.02 0.81 0.1859 1.0
ST183Q03HA  0.68 0.00 -0.02 -0.03 0.47 0.5324 1.0

                      ULS2 ULS3 ULS1 ULS4
SS loadings           1.62 1.61 1.41 0.91
Proportion Var        0.16 0.16 0.14 0.09
Cumulative Var        0.16 0.32 0.46 0.56
Proportion Explained  0.29 0.29 0.25 0.16
Cumulative Proportion 0.29 0.58 0.84 1.00

Mean item complexity =  1.1
Test of the hypothesis that 4 factors are sufficient.

df null model =  45  with the objective function =  2.54 with Chi Square =  45651.51
df of  the model are 11  and the objective function was  0 

The root mean square of the residuals (RMSR) is  0 
The df corrected root mean square of the residuals is  0.01 

The harmonic n.obs is  17972 with the empirical chi square  29.63  with prob &lt;  0.0018 
The total n.obs was  17972  with Likelihood Chi Square =  57.84  with prob &lt;  2.3e-08 

Tucker Lewis Index of factoring reliability =  0.996
RMSEA index =  0.015  and the 95 % confidence intervals are  0.011 0.02
BIC =  -49.93
Fit based upon off diagonal values = 1
Measures of factor score adequacy             
                                                  ULS2 ULS3 ULS1 ULS4
Correlation of (regression) scores with factors   0.92 0.88 0.81 0.96
Multiple R square of scores with factors          0.85 0.77 0.66 0.93
Minimum correlation of possible factor scores     0.70 0.54 0.32 0.85</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fa.diagram</span>(AFE_varimax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pisa_factorial_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Los resultados son muy similares a los obtenidos con la rotación oblicua:</p>
<ul>
<li>Vemos que los items que más pesan en el factor 1 son los correspondientes a la variable Perseverancia - los que comienzan por ST182.</li>
<li>Los items que más pesan en el factor 2 son los correspondientes a la variable Miedo al fracaso - los que comienzan por ST183.</li>
<li>Los ítems que más pesan en el factor 3 son los correspondientes a la variable Competitividad - los que comienzan por ST181.</li>
<li>Los índices de bondad del ajuste son muy buenos: RMSEA y RMSR inferiores a 0,08 y TLI mayor a 0,95</li>
<li>En el gráfico vemos que los factores 1 y 3 ya no están correlacionados.</li>
</ul>
</section>
<section id="resultados-afe" class="level2">
<h2 class="anchored" data-anchor-id="resultados-afe">Resultados AFE:</h2>
<p>La estructura factorial obtenida concuerda con la estructura factorial teórica de tres factores</p>
</section>
</section>
<section id="análisis-factorial-confirmatorio-cfa" class="level1">
<h1>Análisis Factorial Confirmatorio (CFA):</h1>
<p>La diferencia fundamental entre el EFA y el CFA, es que el EFA, como su propio nombre indica, es una técnica exploratoria: con ella queremos conocer la estructura de factores o variables latentes subyacente a los datos. Sin embargo, con el CFA, nosotros testamos si una determinada estructura factorial ajusta bien o no a los datos. Esto es, en este segundo caso, nosotros debemos imponer una estructura factorial de antemano. Recurriendo a los índices de bondad del ajusto comprobaremos si dicha estructura es o no correcta.</p>
<section id="paso-1-determinar-un-método-de-extracción-de-factores" class="level2">
<h2 class="anchored" data-anchor-id="paso-1-determinar-un-método-de-extracción-de-factores">Paso 1: determinar un método de extracción de factores:</h2>
<p>Al igual que hacíamos con el EFA, con el CFA también debemos determinar un método concreto para extraer los factores. Con el fin de establecer un método u otro, llevaremos a cabo un test de Mardia: <strong>si existiera normalidad multivariante, podríamos utilizar Máxima Verosimilitud</strong>. Si nuestros datos no fuesen normales, Mínimo Cuadrados No Ponderados sería una buena opción.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mardia</span>(datos_AFC, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pisa_factorial_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Call: mardia(x = datos_AFC, na.rm = TRUE)

Mardia tests of multivariate skew and kurtosis
Use describe(x) the to get univariate tests
n.obs = 16255   num.vars =  10 
b1p =  3.68   skew =  9980.25  with probability  &lt;=  0
 small sample skew =  9982.43  with probability &lt;=  0
b2p =  140.86   kurtosis =  85.84  with probability &lt;=  0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ks.test</span>(datos_AFC, pnorm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Asymptotic one-sample Kolmogorov-Smirnov test

data:  datos_AFC
D = 0.88958, p-value &lt; 2.2e-16
alternative hypothesis: two-sided</code></pre>
</div>
</div>
<p>Como podíamos esperar los resultados son idénticos a los obtenidos con la mitad de la muestra destinada al AFE: rechazamos la hipótesis nula de normalidad multivariante (al ser los p-valores inferiores a los niveles de significación habituales). Por ello, tampoco podemos usar Máxima Verosimilitud para el AFC, y usaremos, de nuevo, Mínimos Cuadrados No Ponderados (ULS).</p>
</section>
<section id="paso-2-probar-una-o-varias-estructuras-factoriales" class="level2">
<h2 class="anchored" data-anchor-id="paso-2-probar-una-o-varias-estructuras-factoriales">Paso 2: Probar una o varias estructuras factoriales:</h2>
<p>Vamos a plantear 3 modelos diferentes: uno que replique la estructura factorial planteada en el EFA, otro de un solo factor y otro de dos factores.</p>
<p>Para comparar modelos nos vamos a fijar en los índices de bondad del ajuste. Al igual que comentamos con el EFA: la situación óptima es aquella en la que los índices SRMR y RMSEA son inferiores a 0,08 - cuanto más bajos mejor -, y los índices TLI y CFI son superiores a 0,95 - cuanto más altos mejor.</p>
</section>
<section id="modelo-con-tres-factores-teóricos" class="level2">
<h2 class="anchored" data-anchor-id="modelo-con-tres-factores-teóricos">Modelo con tres factores teóricos:</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Especificamos el modelo: en este modelo se respetan los tres factores teóricos:</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>modelo3F <span class="ot">&lt;-</span> <span class="st">"Competitividad =~ ST181Q02HA + ST181Q03HA + ST181Q04HA</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="st">             Perseverancia =~ ST182Q03HA + ST182Q04HA + ST182Q05HA + ST182Q06HA</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="st">             Miedo_al_fracaso =~ ST183Q01HA + ST183Q02HA + ST183Q03HA"</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Realizamos el factorial:</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>factorial3F <span class="ot">&lt;-</span> <span class="fu">cfa</span>(modelo3F, datos_AFC, <span class="at">estimator =</span> <span class="st">"ULS"</span>, <span class="at">ordered =</span> <span class="cn">TRUE</span>, <span class="at">orthogonal =</span> <span class="cn">FALSE</span>)</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ordered=TRUE usamos la matriz policórica</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="co"># orthogonal=FALSE estamos diciendo que puede haber correlación entre factores</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(factorial3F, <span class="at">fit.measures =</span> <span class="cn">TRUE</span>, <span class="at">standardized =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6.17 ended normally after 30 iterations

  Estimator                                        ULS
  Optimization method                           NLMINB
  Number of model parameters                        43

                                                  Used       Total
  Number of observations                         16255       17971

Model Test User Model:
                                                      
  Test statistic                              1347.860
  Degrees of freedom                                32
  P-value (Unknown)                                 NA

Model Test Baseline Model:

  Test statistic                             69227.035
  Degrees of freedom                                45
  P-value                                           NA

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.981
  Tucker-Lewis Index (TLI)                       0.973

Root Mean Square Error of Approximation:

  RMSEA                                          0.050
  90 Percent confidence interval - lower         0.048
  90 Percent confidence interval - upper         0.053
  P-value H_0: RMSEA &lt;= 0.050                    0.410
  P-value H_0: RMSEA &gt;= 0.080                    0.000

Standardized Root Mean Square Residual:

  SRMR                                           0.039

Parameter Estimates:

  Parameterization                               Delta
  Standard errors                             Standard
  Information                                 Expected
  Information saturated (h1) model        Unstructured

Latent Variables:
                      Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  Competitividad =~                                                        
    ST181Q02HA           1.000                               0.722    0.722
    ST181Q03HA           1.007    0.015   66.764    0.000    0.727    0.727
    ST181Q04HA           1.234    0.019   63.552    0.000    0.890    0.890
  Perseverancia =~                                                         
    ST182Q03HA           1.000                               0.707    0.707
    ST182Q04HA           0.993    0.014   71.418    0.000    0.702    0.702
    ST182Q05HA           1.151    0.016   71.457    0.000    0.814    0.814
    ST182Q06HA           0.875    0.013   69.780    0.000    0.618    0.618
  Miedo_al_fracaso =~                                                      
    ST183Q01HA           1.000                               0.639    0.639
    ST183Q02HA           1.507    0.030   49.642    0.000    0.962    0.962
    ST183Q03HA           1.115    0.019   59.088    0.000    0.712    0.712

Covariances:
                    Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  Competitividad ~~                                                      
    Perseverancia      0.174    0.003   56.878    0.000    0.340    0.340
    Miedo_al_fracs     0.044    0.002   21.025    0.000    0.095    0.095
  Perseverancia ~~                                                       
    Miedo_al_fracs     0.027    0.002   14.295    0.000    0.059    0.059

Thresholds:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
    ST181Q02HA|t1    -1.396    0.008 -177.950    0.000   -1.396   -1.396
    ST181Q02HA|t2    -0.434    0.008  -55.353    0.000   -0.434   -0.434
    ST181Q02HA|t3     0.797    0.008  101.552    0.000    0.797    0.797
    ST181Q03HA|t1    -1.322    0.008 -168.547    0.000   -1.322   -1.322
    ST181Q03HA|t2    -0.130    0.008  -16.551    0.000   -0.130   -0.130
    ST181Q03HA|t3     1.024    0.008  130.573    0.000    1.024    1.024
    ST181Q04HA|t1    -1.582    0.008 -201.738    0.000   -1.582   -1.582
    ST181Q04HA|t2    -0.728    0.008  -92.850    0.000   -0.728   -0.728
    ST181Q04HA|t3     0.549    0.008   70.001    0.000    0.549    0.549
    ST182Q03HA|t1    -1.960    0.008 -249.928    0.000   -1.960   -1.960
    ST182Q03HA|t2    -1.423    0.008 -181.399    0.000   -1.423   -1.423
    ST182Q03HA|t3    -0.206    0.008  -26.304    0.000   -0.206   -0.206
    ST182Q04HA|t1    -1.953    0.008 -248.995    0.000   -1.953   -1.953
    ST182Q04HA|t2    -0.714    0.008  -91.039    0.000   -0.714   -0.714
    ST182Q04HA|t3     0.712    0.008   90.760    0.000    0.712    0.712
    ST182Q05HA|t1    -2.073    0.008 -264.331    0.000   -2.073   -2.073
    ST182Q05HA|t2    -1.367    0.008 -174.275    0.000   -1.367   -1.367
    ST182Q05HA|t3     0.281    0.008   35.824    0.000    0.281    0.281
    ST182Q06HA|t1    -1.705    0.008 -217.356    0.000   -1.705   -1.705
    ST182Q06HA|t2    -0.587    0.008  -74.830    0.000   -0.587   -0.587
    ST182Q06HA|t3     0.734    0.008   93.594    0.000    0.734    0.734
    ST183Q01HA|t1    -0.944    0.008 -120.363    0.000   -0.944   -0.944
    ST183Q01HA|t2    -0.098    0.008  -12.494    0.000   -0.098   -0.098
    ST183Q01HA|t3     1.015    0.008  129.350    0.000    1.015    1.015
    ST183Q02HA|t1    -1.026    0.008 -130.806    0.000   -1.026   -1.026
    ST183Q02HA|t2    -0.081    0.008  -10.362    0.000   -0.081   -0.081
    ST183Q02HA|t3     1.032    0.008  131.540    0.000    1.032    1.032
    ST183Q03HA|t1    -0.854    0.008 -108.820    0.000   -0.854   -0.854
    ST183Q03HA|t2     0.075    0.008    9.613    0.000    0.075    0.075
    ST183Q03HA|t3     1.001    0.008  127.651    0.000    1.001    1.001

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .ST181Q02HA        0.479                               0.479    0.479
   .ST181Q03HA        0.472                               0.472    0.472
   .ST181Q04HA        0.207                               0.207    0.207
   .ST182Q03HA        0.500                               0.500    0.500
   .ST182Q04HA        0.507                               0.507    0.507
   .ST182Q05HA        0.338                               0.338    0.338
   .ST182Q06HA        0.618                               0.618    0.618
   .ST183Q01HA        0.592                               0.592    0.592
   .ST183Q02HA        0.074                               0.074    0.074
   .ST183Q03HA        0.493                               0.493    0.493
    Competitividad    0.521    0.010   50.703    0.000    1.000    1.000
    Perseverancia     0.500    0.009   54.441    0.000    1.000    1.000
    Miedo_al_fracs    0.408    0.010   41.805    0.000    1.000    1.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># fijarse en los índices de bondad del ajuste:</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>semPlot<span class="sc">::</span><span class="fu">semPaths</span>(factorial3F,</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">whatLabels =</span> <span class="st">"est"</span>,</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">sizeMan =</span> <span class="fl">3.25</span>,</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">node.width =</span> <span class="dv">1</span>,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.label.cex =</span> .<span class="dv">75</span>,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">style =</span> <span class="st">"ram"</span>,</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">5</span>)</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pisa_factorial_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>El ajuste es muy bueno: RMSEA y SRMR &lt; 0,08, y TLI y CFI &gt; 0,95</p>
</section>
<section id="modelo-con-un-solo-factor" class="level2">
<h2 class="anchored" data-anchor-id="modelo-con-un-solo-factor">Modelo con un solo factor:</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Especificamos el modelo: todos los items en un único factor:</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>modelo1F <span class="ot">&lt;-</span> <span class="st">"Factor =~ ST181Q02HA + ST181Q03HA + ST181Q04HA + ST182Q03HA + ST182Q04HA + ST182Q05HA + ST182Q06HA + ST183Q01HA + ST183Q02HA + ST183Q03HA"</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Realizamos el factorial:</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>factorial1F <span class="ot">&lt;-</span> <span class="fu">cfa</span>(modelo1F, datos_AFC, <span class="at">estimator =</span> <span class="st">"ULS"</span>, <span class="at">ordered =</span> <span class="cn">TRUE</span>, <span class="at">orthogonal =</span> <span class="cn">FALSE</span>)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(factorial1F, <span class="at">fit.measures =</span> <span class="cn">TRUE</span>, <span class="at">standardized =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6.17 ended normally after 24 iterations

  Estimator                                        ULS
  Optimization method                           NLMINB
  Number of model parameters                        40

                                                  Used       Total
  Number of observations                         16255       17971

Model Test User Model:
                                                       
  Test statistic                              28114.458
  Degrees of freedom                                 35
  P-value (Unknown)                                  NA

Model Test Baseline Model:

  Test statistic                             69227.035
  Degrees of freedom                                45
  P-value                                           NA

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.594
  Tucker-Lewis Index (TLI)                       0.478

Root Mean Square Error of Approximation:

  RMSEA                                          0.222
  90 Percent confidence interval - lower         0.220
  90 Percent confidence interval - upper         0.224
  P-value H_0: RMSEA &lt;= 0.050                    0.000
  P-value H_0: RMSEA &gt;= 0.080                    1.000

Standardized Root Mean Square Residual:

  SRMR                                           0.177

Parameter Estimates:

  Parameterization                               Delta
  Standard errors                             Standard
  Information                                 Expected
  Information saturated (h1) model        Unstructured

Latent Variables:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  Factor =~                                                             
    ST181Q02HA        1.000                               0.496    0.496
    ST181Q03HA        1.034    0.016   62.943    0.000    0.512    0.512
    ST181Q04HA        1.207    0.018   66.005    0.000    0.598    0.598
    ST182Q03HA        1.244    0.019   66.499    0.000    0.617    0.617
    ST182Q04HA        1.195    0.018   65.831    0.000    0.592    0.592
    ST182Q05HA        1.392    0.020   68.013    0.000    0.690    0.690
    ST182Q06HA        1.078    0.017   63.849    0.000    0.534    0.534
    ST183Q01HA        0.375    0.011   33.667    0.000    0.186    0.186
    ST183Q02HA        0.342    0.011   31.163    0.000    0.170    0.170
    ST183Q03HA        0.142    0.010   13.782    0.000    0.070    0.070

Thresholds:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
    ST181Q02HA|t1    -1.396    0.008 -177.950    0.000   -1.396   -1.396
    ST181Q02HA|t2    -0.434    0.008  -55.353    0.000   -0.434   -0.434
    ST181Q02HA|t3     0.797    0.008  101.552    0.000    0.797    0.797
    ST181Q03HA|t1    -1.322    0.008 -168.547    0.000   -1.322   -1.322
    ST181Q03HA|t2    -0.130    0.008  -16.551    0.000   -0.130   -0.130
    ST181Q03HA|t3     1.024    0.008  130.573    0.000    1.024    1.024
    ST181Q04HA|t1    -1.582    0.008 -201.738    0.000   -1.582   -1.582
    ST181Q04HA|t2    -0.728    0.008  -92.850    0.000   -0.728   -0.728
    ST181Q04HA|t3     0.549    0.008   70.001    0.000    0.549    0.549
    ST182Q03HA|t1    -1.960    0.008 -249.928    0.000   -1.960   -1.960
    ST182Q03HA|t2    -1.423    0.008 -181.399    0.000   -1.423   -1.423
    ST182Q03HA|t3    -0.206    0.008  -26.304    0.000   -0.206   -0.206
    ST182Q04HA|t1    -1.953    0.008 -248.995    0.000   -1.953   -1.953
    ST182Q04HA|t2    -0.714    0.008  -91.039    0.000   -0.714   -0.714
    ST182Q04HA|t3     0.712    0.008   90.760    0.000    0.712    0.712
    ST182Q05HA|t1    -2.073    0.008 -264.331    0.000   -2.073   -2.073
    ST182Q05HA|t2    -1.367    0.008 -174.275    0.000   -1.367   -1.367
    ST182Q05HA|t3     0.281    0.008   35.824    0.000    0.281    0.281
    ST182Q06HA|t1    -1.705    0.008 -217.356    0.000   -1.705   -1.705
    ST182Q06HA|t2    -0.587    0.008  -74.830    0.000   -0.587   -0.587
    ST182Q06HA|t3     0.734    0.008   93.594    0.000    0.734    0.734
    ST183Q01HA|t1    -0.944    0.008 -120.363    0.000   -0.944   -0.944
    ST183Q01HA|t2    -0.098    0.008  -12.494    0.000   -0.098   -0.098
    ST183Q01HA|t3     1.015    0.008  129.350    0.000    1.015    1.015
    ST183Q02HA|t1    -1.026    0.008 -130.806    0.000   -1.026   -1.026
    ST183Q02HA|t2    -0.081    0.008  -10.362    0.000   -0.081   -0.081
    ST183Q02HA|t3     1.032    0.008  131.540    0.000    1.032    1.032
    ST183Q03HA|t1    -0.854    0.008 -108.820    0.000   -0.854   -0.854
    ST183Q03HA|t2     0.075    0.008    9.613    0.000    0.075    0.075
    ST183Q03HA|t3     1.001    0.008  127.651    0.000    1.001    1.001

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .ST181Q02HA        0.754                               0.754    0.754
   .ST181Q03HA        0.737                               0.737    0.737
   .ST181Q04HA        0.642                               0.642    0.642
   .ST182Q03HA        0.620                               0.620    0.620
   .ST182Q04HA        0.649                               0.649    0.649
   .ST182Q05HA        0.524                               0.524    0.524
   .ST182Q06HA        0.714                               0.714    0.714
   .ST183Q01HA        0.965                               0.965    0.965
   .ST183Q02HA        0.971                               0.971    0.971
   .ST183Q03HA        0.995                               0.995    0.995
    Factor            0.246    0.005   45.181    0.000    1.000    1.000</code></pre>
</div>
</div>
<p>El ajuste no es bueno: RMSEA y SRMR &gt; 0,08, y TLI y CFI &lt; 0,95 (de hecho, es peor que en el modelo con dos factores).</p>
</section>
<section id="modelo-con-dos-factores" class="level2">
<h2 class="anchored" data-anchor-id="modelo-con-dos-factores">Modelo con dos factores:</h2>
<p>Planteamos un modelo con dos factores: uno que englobe los tres items relacionados con la vivienda, y otro que englobe el resto de ítems.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Especificamos el modelo: en este modelo Competitividad y Perseverancia los introducimos en el mismo factor, ya que con el AFE vimos que tenían correlación:</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>modelo2F <span class="ot">&lt;-</span> <span class="st">"Competitividad_Perseverancia =~ ST181Q02HA + ST181Q03HA + ST181Q04HA + ST182Q03HA + ST182Q04HA + ST182Q05HA + ST182Q06HA</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="st">             Miedo_al_fracaso =~ ST183Q01HA + ST183Q02HA + ST183Q03HA"</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Realizamos el factorial:</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>factorial2F <span class="ot">&lt;-</span> <span class="fu">cfa</span>(modelo2F, datos_AFC, <span class="at">estimator =</span> <span class="st">"ULS"</span>, <span class="at">ordered =</span> <span class="cn">TRUE</span>, <span class="at">orthogonal =</span> <span class="cn">FALSE</span>)</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(factorial2F, <span class="at">fit.measures =</span> <span class="cn">TRUE</span>, <span class="at">standardized =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6.17 ended normally after 29 iterations

  Estimator                                        ULS
  Optimization method                           NLMINB
  Number of model parameters                        41

                                                  Used       Total
  Number of observations                         16255       17971

Model Test User Model:
                                                       
  Test statistic                              11937.402
  Degrees of freedom                                 34
  P-value (Unknown)                                  NA

Model Test Baseline Model:

  Test statistic                             69227.035
  Degrees of freedom                                45
  P-value                                           NA

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.828
  Tucker-Lewis Index (TLI)                       0.772

Root Mean Square Error of Approximation:

  RMSEA                                          0.147
  90 Percent confidence interval - lower         0.145
  90 Percent confidence interval - upper         0.149
  P-value H_0: RMSEA &lt;= 0.050                    0.000
  P-value H_0: RMSEA &gt;= 0.080                    1.000

Standardized Root Mean Square Residual:

  SRMR                                           0.116

Parameter Estimates:

  Parameterization                               Delta
  Standard errors                             Standard
  Information                                 Expected
  Information saturated (h1) model        Unstructured

Latent Variables:
                                  Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv
  Competitividad_Perseverancia =~                                             
    ST181Q02HA                       1.000                               0.497
    ST181Q03HA                       1.013    0.016   62.248    0.000    0.503
    ST181Q04HA                       1.195    0.018   65.562    0.000    0.593
    ST182Q03HA                       1.250    0.019   66.294    0.000    0.621
    ST182Q04HA                       1.221    0.019   65.925    0.000    0.606
    ST182Q05HA                       1.407    0.021   67.816    0.000    0.699
    ST182Q06HA                       1.102    0.017   64.056    0.000    0.547
  Miedo_al_fracaso =~                                                         
    ST183Q01HA                       1.000                               0.636
    ST183Q02HA                       1.517    0.031   49.416    0.000    0.964
    ST183Q03HA                       1.121    0.019   59.013    0.000    0.713
  Std.all
         
    0.497
    0.503
    0.593
    0.621
    0.606
    0.699
    0.547
         
    0.636
    0.964
    0.713

Covariances:
                                  Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv
  Competitividad_Perseverancia ~~                                             
    Miedo_al_fracs                   0.029    0.001   23.065    0.000    0.093
  Std.all
         
    0.093

Thresholds:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
    ST181Q02HA|t1    -1.396    0.008 -177.950    0.000   -1.396   -1.396
    ST181Q02HA|t2    -0.434    0.008  -55.353    0.000   -0.434   -0.434
    ST181Q02HA|t3     0.797    0.008  101.552    0.000    0.797    0.797
    ST181Q03HA|t1    -1.322    0.008 -168.547    0.000   -1.322   -1.322
    ST181Q03HA|t2    -0.130    0.008  -16.551    0.000   -0.130   -0.130
    ST181Q03HA|t3     1.024    0.008  130.573    0.000    1.024    1.024
    ST181Q04HA|t1    -1.582    0.008 -201.738    0.000   -1.582   -1.582
    ST181Q04HA|t2    -0.728    0.008  -92.850    0.000   -0.728   -0.728
    ST181Q04HA|t3     0.549    0.008   70.001    0.000    0.549    0.549
    ST182Q03HA|t1    -1.960    0.008 -249.928    0.000   -1.960   -1.960
    ST182Q03HA|t2    -1.423    0.008 -181.399    0.000   -1.423   -1.423
    ST182Q03HA|t3    -0.206    0.008  -26.304    0.000   -0.206   -0.206
    ST182Q04HA|t1    -1.953    0.008 -248.995    0.000   -1.953   -1.953
    ST182Q04HA|t2    -0.714    0.008  -91.039    0.000   -0.714   -0.714
    ST182Q04HA|t3     0.712    0.008   90.760    0.000    0.712    0.712
    ST182Q05HA|t1    -2.073    0.008 -264.331    0.000   -2.073   -2.073
    ST182Q05HA|t2    -1.367    0.008 -174.275    0.000   -1.367   -1.367
    ST182Q05HA|t3     0.281    0.008   35.824    0.000    0.281    0.281
    ST182Q06HA|t1    -1.705    0.008 -217.356    0.000   -1.705   -1.705
    ST182Q06HA|t2    -0.587    0.008  -74.830    0.000   -0.587   -0.587
    ST182Q06HA|t3     0.734    0.008   93.594    0.000    0.734    0.734
    ST183Q01HA|t1    -0.944    0.008 -120.363    0.000   -0.944   -0.944
    ST183Q01HA|t2    -0.098    0.008  -12.494    0.000   -0.098   -0.098
    ST183Q01HA|t3     1.015    0.008  129.350    0.000    1.015    1.015
    ST183Q02HA|t1    -1.026    0.008 -130.806    0.000   -1.026   -1.026
    ST183Q02HA|t2    -0.081    0.008  -10.362    0.000   -0.081   -0.081
    ST183Q02HA|t3     1.032    0.008  131.540    0.000    1.032    1.032
    ST183Q03HA|t1    -0.854    0.008 -108.820    0.000   -0.854   -0.854
    ST183Q03HA|t2     0.075    0.008    9.613    0.000    0.075    0.075
    ST183Q03HA|t3     1.001    0.008  127.651    0.000    1.001    1.001

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .ST181Q02HA        0.753                               0.753    0.753
   .ST181Q03HA        0.747                               0.747    0.747
   .ST181Q04HA        0.648                               0.648    0.648
   .ST182Q03HA        0.615                               0.615    0.615
   .ST182Q04HA        0.632                               0.632    0.632
   .ST182Q05HA        0.512                               0.512    0.512
   .ST182Q06HA        0.700                               0.700    0.700
   .ST183Q01HA        0.596                               0.596    0.596
   .ST183Q02HA        0.070                               0.070    0.070
   .ST183Q03HA        0.492                               0.492    0.492
    Cmpttvdd_Prsvr    0.247    0.005   45.016    0.000    1.000    1.000
    Miedo_al_fracs    0.404    0.010   41.656    0.000    1.000    1.000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>semPlot<span class="sc">::</span><span class="fu">semPaths</span>(factorial2F,</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">whatLabels =</span> <span class="st">"est"</span>,</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">sizeMan =</span> <span class="fl">3.25</span>,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">node.width =</span> <span class="dv">1</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">edge.label.cex =</span> .<span class="dv">75</span>,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">style =</span> <span class="st">"ram"</span>,</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">5</span>)</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pisa_factorial_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>El ajuste no es bueno: RMSEA y SRMR &gt; 0,08, y TLI y CFI &lt; 0,95</p>
</section>
<section id="resultados-cfa" class="level2">
<h2 class="anchored" data-anchor-id="resultados-cfa">Resultados CFA:</h2>
<p>Los índices de bondad del ajuste muestran que el modelo que refleja la estructura de los tres factores teóricos es el que mejor ajusta ajusta. Su ajuste a los datos es muy bueno.</p>
</section>
</section>
<section id="interpretamos-los-factores-obtenidos-tanto-con-el-efa-como-con-el-cfa" class="level1">
<h1>Interpretamos los factores obtenidos tanto con el EFA como con el CFA:</h1>
<p>Intentamos darle nombre a los factores, facilitando la interpretación de los resultados.</p>
<p>Con respecto a nuestro ejemplo, en primer lugar, debemos decir que la estructura factorial obtenida concuerda con la estructura factorial teórica de tres factores: las tres subescalas (los tres conjuntos de ítems) miden variables distinguibles.</p>
<p>Los tres factores serían:</p>
<ul>
<li><p><strong>Factor 1</strong>: variables ST181Q02HA (“Disfruto trabajando en situaciones que requieren competir con los demás.”), ST181Q03HA (“Es importante para mí hacerlo mejor que los demás al realizar una tarea.”) y ST181Q04HA (“Me esfuerzo mucho cuando estoy compitiendo contra los demás.”). <strong>Factor “competitividad</strong>”.</p></li>
<li><p><strong>Factor 2</strong>: variables ST182Q03HA (“Me siento satisfecho cuando me esfuerzo todo lo que puedo.”), ST182Q04HA (“Cuando inicio una tarea continúo hasta terminarla.”), ST182Q05HA (“Cuando hago algo, parte de mi satisfacción se debe a que he mejorado mis resultados anteriores.”) y ST182Q06HA (“Si algo no se me da bien, prefiero seguir esforzándome para mejorar, en lugar de hacer otra cosa que sí se me da bien.”). <strong>Factor “perseverancia”</strong>.</p></li>
<li><p><strong>Factor 3</strong>: variables ST183Q01HA (“Cuando me he equivocado, me preocupa lo que otras personas piensen de mí.”), ST183Q02HA (“Cuando me he equivocado, me preocupa no tener el talento suficiente.”) y ST183Q03HA (“Cuando me he equivocado, dudo sobre mis planes para el futuro.”). <strong>Factor “miedo al fracaso”</strong>.</p></li>
</ul>
</section>
<section id="conclusión" class="level1">
<h1>Conclusión</h1>
<p>En este notebook se ha explicado como llevar a cabo una Reducción de la Dimensionalidad vía un Análisis Factorial, exponiendo las diferentes vías para hacerlo y las consideraciones a tener en cuenta. Se ha ilustrado con un caso práctico en el que se ha podido ir viendo la bondad del método empleado y que puede ser extrapolado a estudios futuros. El modelo inicial considerado tiene buenos indicadores de bondad de ajuste. Además interpretando los resultados parece razonable todos los coeficientes e indicadores obtenidos.</p>
</section>
<section id="bibliografía" class="level1">
<h1>Bibliografía</h1>
<ul>
<li><a href="https://rpubs.com/luis_bolanos/FA" class="uri">https://rpubs.com/luis_bolanos/FA</a></li>
<li><a href="https://rpubs.com/JairoAyala/EFA" class="uri">https://rpubs.com/JairoAyala/EFA</a></li>
</ul>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/uvima\.github\.io\/datasets\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>